# 프로블레마(Problema) 알고리즘 개선 문서

## 개요
이 문서는 애니그마 알고리즘과 AES 암호화 알고리즘을 결합한 '프로블레마(Problema)' 암호화 알고리즘의 개선 사항과 현재 상태를 설명한다. 프로블레마 알고리즘은 한글과 영어를 모두 지원하며, 혼합된 텍스트도 처리할 수 있도록 설계되었다. (교차지원)
프로블레마 알고리즘은 초기 계획된 사항들과 구조적 오류에 대해 개선을 진행하였지만 아직까지 몇 가지의 문제점이 존재한다.
해당 알고리즘은 보안전공 학부생의 실습 목적으로 제작되었으며, **실사용을 권장하지 않는다.**

## 개선된 주요 기능

### 1. 로터 동기화 메커니즘 개선
- 암호화와 복호화 과정에서 로터의 초기 상태를 정확히 저장하고 복원하는 기능 추가
- 로터 회전 패턴의 대칭성 보장을 위한 코드 개선
- 역방향 로터 적용 시 정확한 위치 계산 로직 구현

### 2. 피드백 메커니즘 수정
- 암호화와 복호화 과정에서 피드백 상태의 일관성 유지
- 초기 피드백 상태 저장 및 복원 기능 추가
- 암호화/복호화 모드에 따른 피드백 처리 로직 분리

### 3. UTF-8 인코딩/디코딩 향상
- UTF-8 시퀀스 검증 로직 강화
- 다중 바이트 문자(한글 등) 처리 정확성 향상
- 디버그 출력 추가로 문제 진단 용이성 개선
- 버퍼 크기 검사 강화 및 오류 메시지 상세화

### 4. AES 변환 수정
- SubBytes/InvSubBytes 연산의 대칭성 보장
- ShiftRows/InvShiftRows 연산 개선
- MixColumns/InvMixColumns 연산의 수학적 정확성 향상
- 각 단계별 디버그 출력 추가로 변환 과정 추적 가능

### 5. 디버깅 기능 강화
- 각 암호화/복호화 단계별 상세 디버그 출력 추가
- 유니코드 문자 변환 과정 추적 기능
- 로터 회전 상태 모니터링 기능
- 블록 상태 시각화 기능

## 현재 상태 및 제한사항

현재 프로블레마 알고리즘은 다음과 같은 제한사항이 존재한다:

1. **완전한 복호화 정확성 미확보**: 암호화는 성공적으로 수행되지만, 복호화 과정에서 원본 텍스트가 정확히 복원되지 않는 문제가 여전히 존재한다. 이는 다음과 같은 요인에 기인하는 것으로 보여진다:
   - 로터 회전 패턴의 완전한 대칭성 미확보
   - 피드백 메커니즘의 비가역성
   - AES 변환과 역변환 간의 미세한 불일치

2. **성능 최적화 필요**: 현재 구현은 기능 검증에 중점을 두고 있어 성능 최적화의 필요성이 존재한다.

3. **메모리 관리 개선 필요**: 대용량 텍스트 처리 시 메모리 사용량 최적화가 필요하다.

## 향후 개선 방안

1. **복호화 정확성 향상**:
   - 로터 회전 메커니즘의 완전한 가역성 보장
   - 피드백 상태 저장 및 복원 로직 재설계
   - AES 변환의 수학적 정확성 추가 개선

2. **성능 최적화**:
   - 핵심 알고리즘 부분 최적화
   - 병렬 처리 도입 검토

3. **보안성 강화**:
   - 키 스케줄링 알고리즘 강화
   - 추가 암호화 레이어 도입 검토

4. **사용성 개선**:
   - 더 직관적인 사용자 인터페이스 개발
   - 다양한 입출력 형식 지원

## 결론

프로블레마 알고리즘은 애니그마와 AES의 장점을 결합하고 한글과 영어를 모두 지원하는 혁신적인 암호화 방식을 제공한다. 그러나 현재 버전에서는 몇 가지 제한사항이 존재하므로 지속적인 개선을 통해 더욱 강력하고 신뢰할 수 있는 암호화 솔루션으로 발전할 수 있을 것이라 기대된다.